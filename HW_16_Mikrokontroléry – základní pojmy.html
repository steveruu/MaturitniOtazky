<!DOCTYPE html>                            <html>                                <head>                                    <meta charset="UTF-8">                                    <title>HW_16_Mikrokontroléry – základní pojmy</title>                                    <link rel="stylesheet" href="./style/style.css">                                    <link rel="stylesheet" href="./style/kimbie.dark.css">                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">                                    (27,31,35,.05);border-radius:3px;font-size:1rem}.markdown-content ul li pre,.manual ul li pre,pre{margin:0;direction:ltr!important}.markdown-content ul li pre code,.manual ul li pre code,pre code{direction:ltr!important;line-height:1.45;padding:1em 0 .5em 3em;position:relative;display:block;overflow-x:auto;overflow-y:auto}a{text-decoration:none}.title{float:left;color:#ccc}.markdown-container{padding-top:60px}.elements{padding:12px;position:fixed;top:0;right:0;left:0;background-color:#444;height:50px;z-index:1}.input{color:#fff}#savebutton,input{font-size:15px}#savebutton{padding:0 7px!important}#rtl-checkbox-container{margin:3px 15px!important;color:#fff}.button{background-color:#fff;color:#444;font-size:1.6rem;display:inline-block;text-align:center;line-height:2.1rem;border-radius:2px}.button:hover{cursor:pointer;background-color:#eee}#refresh-button{width:2.2rem;vertical-align:middle}@media print{.no-print,.no-print *{display:none!important}}.hljs-comment,.hljs-quote{color:#99ac5b}.hljs-meta,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#dc3958}.hljs-built_in,.hljs-builtin-name,.hljs-deletion,.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-type{color:#f79a32}.hljs-attribute,.hljs-section,.hljs-title{color:#f06431}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#9c9}.hljs-function,.hljs-keyword,.hljs-selector-tag{color:#98676a}.hljs{display:block;overflow-x:auto;background:#221a0f;color:#d3af86}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}                                </head>                                <body><div class="markdown-container ltr"><div class="markdown-content"><h1 id="hw-16-mikrokontrol-ry-mcu-z-kladn-pojmy">HW 16 – Mikrokontroléry (mcu) – základní pojmy</h1>
<h2 id="mikrokontrol-r">Mikrokontrolér</h2>
<ul>
<li>Elektronický integrovaný obvod</li>
<li>Má integorvaný řadič, ALU a paměť<ul>
<li>Řadič je v nákresech označen jako <em>INSTRUCTION DECODER</em>, jednou z jeho hlavních úloh je dekódování instrukcí</li>
</ul>
</li>
<li>Se svým okolím komunikuje pomocí univerzálních obousměrných vodičů sdružených do portů</li>
<li>Obsahuje integrované periferie z důvodu většího programátorského pohodlí<ul>
<li>Čítač/časovač</li>
<li>AD převodník</li>
<li>Komunikační periferie</li>
</ul>
</li>
<li>Použití – Elektronická zařízení s digitálním řízením</li>
<li>Od PC se liší architekturou, fyzickou velikostí, energetickou náročností a výpočetním výkonem</li>
</ul>
<h2 id="von-neumannova-architektura">Von Neumannova architektura</h2>
<p><img src="./img/HW_16_01.PNG" alt="neumann"></p>
<ul>
<li>Architektura výpočetního systému, který je programován obsahem v paměti</li>
<li>Nezávislá na typu řešené úlohy</li>
<li>Paměť rozdělena na buňky stejné velikosti přístupné pomocí adres<ul>
<li>RAM – přístup ke všem buňkám trvá stejnou dobu</li>
</ul>
</li>
<li>Instrukce se provádí v pořadí, v jakém jsou uloženy v paměti<ul>
<li>Pořadí lze měnit pomocí instrukcí – (ne)podmíněné větvení</li>
</ul>
</li>
<li><strong>+</strong> Levnější výroba, rozdělení paměti pro data a kód si určuje programátor</li>
<li><strong>-</strong> Možnost nechtěného přepsaní programu, jedna datová sběrnice – Neumannův bottleneck</li>
</ul>
<h2 id="harvardsk-architektura">Harvardská architektura</h2>
<p><img src="./img/HW_16_02.PNG" alt="neumann"></p>
<ul>
<li>Rozdělení paměti na samostatnou <em>datovou</em> a <em>programovou (instrukční)</em></li>
<li>Tyto dvě paměti mohou být vyrobeny odlišnými technologiemi<ul>
<li>ATmega64 – SRAM pro data a nevolatilní Flash pro program</li>
</ul>
</li>
<li>Pokud je každá paměť připojena samostatnou sběrnicí, lze využít zřetězení<ul>
<li>ATmega64 – 8bitová sběrnice pro data, 16bitová pro program</li>
<li>Single Level Pipelining – Zatímco je jedna instrukce zpracována, druhá je předběžně načtena z paměti programu</li>
</ul>
</li>
</ul>
<h2 id="hlavn-vlastnosti-atmega64">Hlavní vlastnosti ATmega64</h2>
<ul>
<li>Dokumentace strana 1</li>
<li>Harvardská RISC architektura<ul>
<li>Procesor s jednodušší instrukční řadou a jednodušším řadičem – rychlejší provádění instrukcí, složitější instrukce nahrazeny několika jendoduššími (pipelining)</li>
<li>Reduced Instruction Set Computer – jednoduchá a vysoce optimalizovaná sada instrukcí</li>
<li><em>130 Powerful Instructions</em> – Pro RISC relativně hodně (existují RISC procesory s pár desítkami instrukcí), u CISC je ale 130 instrukcí málo</li>
<li><em>Most Single Clock Cycle Execution</em> – Většina instrukcí se provede v jednom instrukčním cyklu</li>
<li>Většina instrukcí má stejnou délku (v binárním zápisu) – V paměti zabírají stejně místa</li>
<li><em>32 x 8 General Purpose Working Registers</em> – 32 osmibitových registrů – Velký počet pracovních registrů</li>
<li>Load/Store architektura – S operační pamětí pracují pouze instrukce pro čtení a zápis do paměti; Všechny aritmeticko-logické operace pracují pouze s registry (žádná ALU operace nemůže sahat přímo do paměti, nejdříve se pomocí operací přesunu musí hodnota nahrát do registru)</li>
<li>Malý počet způsobů adresace paměti (co může být operandem u instrukcí) – registr, konstanta, registr x/y/z (indirect – to, co je uvnitř registru, se použije jako adresa do paměti), displacement (adresa v x/y/z je modifikována – práce se strukturou/polem); ALU pracuje jen s registry a konstantami</li>
</ul>
</li>
<li>8bit<ul>
<li>Osmibitová datová sběrnice</li>
<li>Osmibitová šířka registrů</li>
<li>Osmibitový implicitní datový typ pro ALU</li>
</ul>
</li>
<li>Hardwarová násobička</li>
<li>64 KB Flash – velikost paměti programu</li>
<li>4 KB SRAM – velikost datové paměti (cache)</li>
<li>2 KB EEPROM – velikost datové paměti (firmware) – nevolatilní, lze elektricky vymazat</li>
<li>Čítače, časovače</li>
<li><em>Byte-oriented Two-wire Serial Interface</em> = I2C</li>
<li>2x USART</li>
<li>SPI</li>
<li>53 vstupně-výstupních pinů</li>
</ul>
<p><img src="./img/HW_16_03.png" alt="bože"></p>
<p><img src="./img/HW_16_04.png" alt="božínku"></p>
<h2 id="p-znaky-status">Příznaky Status</h2>
<ul>
<li><strong><code>I</code></strong> – Globální povolení přerušení</li>
<li><strong><code>T</code></strong> – Jednobitová "proměnná", BST a BLD</li>
<li><strong><code>H</code></strong> – Half carry – přechod do vyššího řádu mezi nibbly</li>
<li><strong><code>S</code></strong> – N ⊕ V</li>
<li><strong><code>V</code></strong> – oVerflow – aritmetické přetečení nebo přetečení znaménka</li>
<li><strong><code>N</code></strong> – Negative – záporný výsledek</li>
<li><strong><code>Z</code></strong> – Zero – nulový výsledek</li>
<li><strong><code>C</code></strong> – Carry – přenos do vyššího řádu</li>
</ul>
</div></div></body>                            </html>